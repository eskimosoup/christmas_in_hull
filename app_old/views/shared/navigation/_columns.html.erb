<% columns = options[:columns] %>
<% per_column = (nodes.length.to_f / columns.to_f) %>
<% mod = nodes.length % columns %>
<% count = 0 %>
<% pc = per_column.ceil %>
<% (columns - mod).times do %>
  <ul>
    <% for node in nodes[(count * pc)..(((count+1) * pc) - 1)] %>
      <%= render "shared/navigation/column_node", :node => node %>
    <% end %>
  </ul>
  <% count += 1 %>
<% end %>
<% count2 = 0 %>
<% pc2 = per_column.to_i %>
<% mod.times do %>
  <ul>
    <% for node in nodes[((count * pc) + (count2 * pc2))..((count * pc) + ((count2+1) * pc2) - 1)] %>
      <%= render "shared/navigation/column_node", :node => node %>
    <% end %>
  </ul>
  <% count2 += 1 %>
<% end %>